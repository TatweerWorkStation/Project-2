import streamlit as st
import requests
import sqlite3
import pandas as pd

# Database connection
DB_PATH = r"C:\Users\A.I\Documents\Tatweer\Project 2\Database\reports.db"

# Load data from the database
def load_data():
    conn = sqlite3.connect(DB_PATH)
    query = "SELECT id, report_type, year, name FROM reports"
    df = pd.read_sql_query(query, conn)
    conn.close()
    return df

# Load file data from the database
def load_file(file_id):
    conn = sqlite3.connect(DB_PATH)
    cursor = conn.cursor()

    # Fetch all rows and filter in Python
    cursor.execute("SELECT id, name, file FROM reports")
    all_rows = cursor.fetchall()

    # Debugging: Print all rows
    # print(f"All Rows: {all_rows}")

    conn.close()

    # Find the row matching the file_id
    for row in all_rows:
        if row[0] == file_id:  # Match id
            file_name, file_content = row[1], row[2]
            return file_name, file_content

    return None, None

# Summarize text using the local LLM server
def summarize_text(text):
    try:
        url = "http://127.0.0.1:1234/v1/chat/completions"  # LLM server endpoint
        payload = {
            "model": "meta-llama-3.1-8b-instruct",
            "messages": [
                {"role": "system", "content": "Always answer in bullet points."},
                {"role": "user", "content": f'''قم بتخليص الملف التالي باللغة العربية
                # الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي|المطلوب|المجموع|ودائع زمنية|ودائع تحت الطلب|نهاية 2004|
|---|---|---|---|---|---|
|1,874.9|1,163.7|3,038.6|1,793.8|1,244.8|يناير|
|1,889.6|1,170.1|3,059.7|1,665.3|1,394.4|فبراير|
|2,007.2|1,146.9|3,154.1|1,769.0|1,385.1|مارس|
|1,948.2|1,234.2|3,182.4|1,707.0|1,475.4|أبريل|
|3,453.5|1,231.2|4,684.7|3,295.0|1,389.7|مايو|
|4,319.9|1,246.8|5,566.7|4,177.0|1,389.7|يونيو|
|4,185.6|1,278.8|5,464.8|4,057.0|1,407.8|يوليو|
|4,273.3|1,334.5|5,607.8|4,136.5|1,471.3|أغسطس|
|4,223.4|1,294.5|5,517.9|4,100.0|1,417.9|سبتمبر|
|4,108.4|1,344.3|5,452.7|4,082.5|1,370.2|أكتوبر|
|4,206.0|1,351.6|5,557.6|4,209.5|1,348.1|نوفمبر|
|4,700.7|1,378.7|6,079.4|4,368.8|1,710.6|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي|المطلوب|المجموع|ودائع زمنية|ودائع تحت الطلب|نهاية|
|---|---|---|---|---|---|
|4,959.5|1,407.7|6,367.2|4,630.7|1,736.5|يناير 2005|
|4,731.2|1,420.2|6,151.4|4,421.7|1,729.7|فبراير 2005|
|5,193.0|1,436.7|6,629.7|4,749.2|1,880.5|مارس 2005|
|5,344.7|1,499.0|6,843.7|4,931.2|1,912.5|أبريل 2005|
|5,739.1|1,585.7|7,324.8|5,300.2|2,024.6|مايو 2005|
|5,825.3|1,549.9|7,375.2|5,393.7|1,981.5|يونيو 2005|
|6,217.8|1,641.3|7,859.1|5,634.7|2,224.4|يوليو 2005|
|6,409.7|1,693.1|8,102.8|5,954.7|2,148.1|أغسطس 2005|
|6,370.0|1,681.9|8,051.9|5,927.2|2,124.7|سبتمبر 2005|
|6,562.0|1,715.4|8,277.4|6,051.2|2,226.2|أكتوبر 2005|
|6,435.6|1,760.1|8,195.7|6,117.2|2,078.5|نوفمبر 2005|
|7,120.6|1,754.3|8,874.9|6,430.1|2,444.8|ديسمبر 2005|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

# "مليون دينار"

|الفائض عن الاحتياطي المطلوب|المجموع| |ودائع زمنية|ودائع تحت الطلب|نهاية|
|---|---|---|---|---|---|
|6,841.1|1,793.5|8,634.6|6,277.7|2,356.9|يناير 2006|
|7,177.6|1,826.7|9,004.3|6,716.2|2,288.1|فبراير 2006|
|7,060.7|1,752.4|8,813.1|6,550.7|2,262.4|مارس 2006|
|6,906.3|1,760.9|8,667.2|6,320.7|2,346.5|أبريل 2006|
|7,610.5|2,007.5|9,618.0|6,879.2|2,738.8|مايو 2006|
|8,048.2|1,998.4|10,046.6|6,788.7|3,257.9|يونيو 2006|
|7,357.8|2,080.4|9,438.2|6,633.7|2,804.5|يوليو 2006|
|8,148.0|2,229.0|10,377.0|7,303.2|3,073.8|أغسطس 2006|
|8,659.4|2,233.6|10,893.0|7,486.7|3,406.3|سبتمبر 2006|
|8,076.8|2,310.7|10,387.5|7,475.2|2,912.3|أكتوبر 2006|
|8,616.9|2,281.5|10,898.4|7,610.2|3,288.2|نوفمبر 2006|
|8,924.6|2,259.8|11,184.4|7,735.7|3,448.7|ديسمبر 2006|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|مليون دينار|ودائع لدى مصرف ليبيا المركزي|الفائض عن الاحتياطي|الاحتياطي النقدي المطلوب|نهاية|المجموع|ودائع زمنية|ودائع تحت الطلب|
|---|---|---|---|---|---|---|---|
|2007|8,145.9|2,237.8|10,383.7|7,395.7|2,988.0| | |
|يناير|8,130.8|2,167.9|10,298.7|7,048.7|3,250.0| | |
|فبراير|8,686.5|2,241.9|10,928.4|7,645.7|3,282.7| | |
|مارس|8,971.9|2,319.7|11,291.6|8,178.7|3,112.9| | |
|أبريل|9,000.1|2,343.4|11,343.5|8,271.7|3,071.8| | |
|مايو|10,081.8|2,333.3|12,415.1|8,663.7|3,751.4| | |
|يونيو|10,767.9|2,502.9|13,270.8|10,045.7|3,225.1| | |
|يوليو|11,830.8|2,751.6|14,582.4|10,532.7|4,049.7| | |
|أغسطس|12,140.0|2,749.8|14,889.8|10,579.7|4,310.1| | |
|سبتمبر|12,912.0|2,953.6|15,865.6|11,674.7|4,190.9| | |
|أكتوبر|13,499.4|3,102.9|16,602.3|12,045.7|4,556.6| | |
|نوفمبر|14,957.0|3,191.4|18,148.4|13,177.7|4,970.7| | |
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي|المطلوب|المجموع|ودائع زمنية|ودائع تحت الطلب|نهاية 2008|
|---|---|---|---|---|---|
|14,421.3|3,296.7|17,718.0|12,870.7|4,847.3|يناير|
|14,194.7|3,260.1|17,454.8|11,956.7|5,498.1|فبراير|
|14,148.2|3,204.3|17,352.5|12,398.7|4,953.8|مارس|
|17,996.2|3,899.4|21,895.6|14,955.7|6,939.9|أبريل|
|19,533.7|4,129.2|23,662.9|15,576.3|8,086.6|مايو|
|17,318.7|6,995.1|24,313.8|16,679.0|7,634.8|يونيو|
|20,217.7|7,398.3|27,616.0|16,319.5|11,296.5|يوليو|
|21,524.4|7,566.3|29,090.7|17,002.0|12,088.7|أغسطس|
|20,359.6|7,801.0|28,160.6|17,886.4|10,274.2|سبتمبر|
|22,106.4|8,036.9|30,143.3|18,890.5|11,252.8|أكتوبر|
|23,895.9|8,354.4|32,250.3|17,939.2|14,311.1|نوفمبر|
|24,164.0|8,306.1|32,470.1|19,501.0|12,969.1|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|المطلوب| | |ودائع لدى مصرف ليبيا المركزي|الفائض عن الاحتياطي|المجموع|شهادات(ودائع زمنية)|ودائع تحت الطلب|نهاية 2009|
|---|---|---|---|---|---|---|---|---|
|22,395.3|8,059.4|30,454.7|19,880.3|10,574.4|يناير| | | |
|22,125.4|8,004.4|30,129.8|19,900.4|10,229.4|فبراير| | | |
|21,558.6|8,066.7|29,625.3|19,856.1|9,769.2|مارس| | | |
|23,834.6|8,709.0|32,543.6|22,321.9|10,221.7|أبريل| | | |
|25,313.1|9,086.6|34,399.7|23,706.1|10,693.6|مايو| | | |
|26,557.2|9,104.2|35,661.4|24,458.5|11,202.9|يونيو| | | |
|27,482.0|9,622.9|37,104.9|25,680.6|11,424.3|يوليو| | | |
|27,775.2|9,228.7|37,003.9|25,632.4|11,371.5|أغسطس| | | |
|28,210.5|9,622.5|37,833.0|26,172.4|11,660.6|سبتمبر| | | |
|27,624.4|9,504.4|37,128.8|26,061.9|11,066.9|أكتوبر| | | |
|28,198.7|9,752.4|37,951.1|25,849.8|12,101.3|نوفمبر| | | |
|28,833.2|9,734.6|38,567.8|25,619.3|12,948.5|ديسمبر| | | |
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2010|
|---|---|---|---|---|---|
|26,795.7|9,439.3|36,235.0|24,749.2|11,485.8|يناير|
|27,574.3|9,332.2|36,906.5|24,748.4|12,158.1|فبراير|
|26,234.2|9,401.4|35,635.6|24,201.8|11,433.8|مارس|
|26,969.1|9,170.2|36,139.3|25,140.0|10,999.3|أبريل|
|27,847.3|9,810.8|37,658.1|26,203.0|11,455.1|مايو|
|28,331.9|9,770.1|38,102.0|25,642.9|12,459.0|يونيو|
|28,836.7|10,019.3|38,856.0|25,072.9|13,783.1|يوليو|
|30,710.2|10,400.0|41,110.2|28,389.0|12,721.2|أغسطس|
|30,414.6|10,455.1|40,869.7|28,424.4|12,445.3|سبتمبر|
|30,201.7|10,604.0|40,805.7|27,906.6|12,899.1|أكتوبر|
|30,551.8|10,655.0|41,206.8|28,392.1|12,814.7|نوفمبر|
|32,874.9|11,062.6|43,937.5|30,686.0|13,251.5|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2011|
|---|---|---|---|---|---|
|30,661.2|10,698.1|41,359.3|28,588.0|12,771.3|يناير|
|29,194.4|10,383.9|39,578.2|26,245.7|13,332.5|فبراير|
|29,440.4|10,298.0|39,738.4|27,047.8|12,690.6|مارس|
|29,799.3|10,337.8|40,137.1|27,810.0|12,327.1|أبريل|
|30,460.1|10,172.9|40,632.9|28,438.9|12,194.0|مايو|
|30,837.7|10,319.7|41,157.5|28,013.7|13,143.7|يونيو|
|30,676.9|10,355.9|41,032.9|28,495.6|12,537.3|يوليو|
|31,007.2|10,782.5|41,789.7|29,176.1|12,613.5|أغسطس|
|32,570.3|11,167.0|43,737.3|27,931.2|15,806.1|سبتمبر|
|34,705.2|11,600.5|46,305.7|29,710.8|16,594.9|أكتوبر|
|34,459.5|11,509.4|45,968.8|29,599.1|16,369.7|نوفمبر|
|34,354.1|11,714.2|46,068.3|27,339.7|18,728.7|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2012|
|---|---|---|---|---|---|
|34,814.4|11,686.9|46,501.2|26,847.8|19,653.4|يناير|
|34,856.5|11,744.8|46,601.3|27,157.6|19,443.7|فبراير|
|35,347.0|11,727.1|47,074.0|30,159.1|16,914.9|مارس|
|35,512.1|11,742.1|47,254.2|30,927.8|16,326.4|أبريل|
|34,750.9|11,992.3|46,743.2|29,636.8|17,106.4|مايو|
|36,004.1|12,066.7|48,070.8|31,303.5|16,767.3|يونيو|
|37,258.4|12,680.2|49,938.6|32,724.4|17,214.2|يوليو|
|34,978.1|12,323.8|47,301.9|32,787.2|14,514.7|أغسطس|
|34,490.6|12,154.2|46,644.8|32,848.7|13,796.1|سبتمبر|
|34,721.0|12,680.6|47,401.6|32,831.7|14,569.9|أكتوبر|
|35,337.1|12,910.6|48,247.7|33,602.4|14,645.3|نوفمبر|
|39,272.0|13,669.2|52,941.2|35,737.8|17,203.4|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2013|
|---|---|---|---|---|---|
|38,841.0|13,886.2|52,727.2|36,697.5|16,029.7|يناير|
|39,635.8|13,897.1|53,532.9|37,382.9|16,150.0|فبراير|
|38,733.9|13,802.0|52,535.9|37,072.1|15,463.8|مارس|
|37,187.4|13,515.6|50,703.0|34,826.1|15,876.9|أبريل|
|36,834.0|13,807.8|50,641.8|34,826.1|15,815.7|مايو|
|38,042.4|13,993.1|52,035.5|34,570.5|17,465.0|يونيو|
|39,667.3|14,673.4|54,340.7|36,499.1|17,841.6|يوليو|
|38,917.5|14,325.8|53,243.3|36,342.5|16,900.8|أغسطس|
|37,852.5|14,293.7|52,146.2|35,949.7|16,196.5|سبتمبر|
|37,600.8|14,373.8|51,974.6|36,368.3|15,606.3|أكتوبر|
|37,915.4|14,576.0|52,491.4|34,952.9|17,538.5|نوفمبر|
|46,959.4|16,712.5|63,671.9|44,307.3|19,364.6|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2014|
|---|---|---|---|---|---|
|45,350.7|15,997.2|61,347.9|43,168.8|18,179.1|يناير|
|45,355.2|15,917.0|61,272.2|42,944.0|18,328.2|فبراير|
|44,309.9|15,811.7|60,121.6|41,831.2|18,290.4|مارس|
|44,328.3|15,643.8|59,972.1|40,690.3|19,281.8|أبريل|
|42,960.2|15,602.6|58,562.8|39,344.5|19,218.3|مايو|
|42,704.6|15,627.5|58,332.1|39,903.8|18,428.3|يونيو|
|42,298.8|15,781.7|58,080.5|38,345.6|19,734.9|يوليو|
|39,530.3|15,832.9|55,363.2|38,041.1|17,322.1|أغسطس|
|39,945.5|15,908.2|55,853.7|36,478.8|19,374.9|سبتمبر|
|39,017.7|15,743.8|54,761.5|36,523.8|18,237.7|أكتوبر|
|39,472.2|15,884.9|55,357.1|36,523.8|18,833.3|نوفمبر|
|40,610.4|15,782.1|56,392.4|37,074.6|19,317.8|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2015|
|---|---|---|---|---|---|
|41,927.5|15,879.9|57,807.4|37,464.6|20,342.8|يناير|
|41,864.0|15,540.5|57,404.5|36,815.1|20,589.4|فبراير|
|39,633.7|15,243.2|54,876.9|35,205.2|19,671.7|مارس|
|38,845.1|15,388.0|54,233.1|35,150.6|19,082.5|أبريل|
|38,387.2|15,644.4|54,031.6|33,115.0|20,916.6|مايو|
|38,545.4|15,408.3|53,953.7|34,379.0|19,574.7|يونيو|
|39,773.9|15,912.3|55,686.2|33,529.0|22,157.2|يوليو|
|40,031.7|15,687.2|55,718.9|33,714.5|22,004.4|أغسطس|
|40,754.3|16,061.8|56,816.1|29,500.8|27,315.3|سبتمبر|
|39,669.8|15,883.2|55,553.0|32,206.5|23,346.5|أكتوبر|
|39,653.7|15,769.0|55,422.7|32,392.9|23,029.8|نوفمبر|
|30,871.4|14,251.4|45,122.9|24,259.7|20,863.2|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|ودائع لدى مصرف ليبيا المركزي|المجموع|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2016|
|---|---|---|---|---|---|
|31,668.2|14,256.1|45,924.3|23,631.3|22,293.0|يناير|
|30,797.4|14,130.1|44,927.5|23,856.8|21,070.7|فبراير|
|33,395.6|14,411.1|47,806.7|23,656.7|24,150.0|مارس|
|33,053.0|14,607.2|47,660.2|23,826.6|23,833.6|أبريل|
|32,812.9|14,722.8|47,535.7|23,615.6|23,920.1|مايو|
|32,840.0|15,170.2|48,010.2|23,603.9|24,406.3|يونيو|
|33,573.2|15,450.5|49,023.7|23,623.7|25,400.0|يوليو|
|32,865.3|15,390.7|48,256.0|23,596.3|24,659.7|أغسطس|
|34,248.9|15,717.1|49,966.0|23,611.5|26,354.5|سبتمبر|
|34,838.6|15,928.1|50,766.7|23,671.4|27,095.3|أكتوبر|
|34,494.5|16,308.6|50,803.1|23,765.9|27,037.2|نوفمبر|
|39,855.2|13,959.5|53,814.7|23,187.1|30,627.6|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|ودائع لدى مصرف ليبيا المركزي|المجموع|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية|
|---|---|---|---|---|---|
|39,664.0|14,111.8|53,775.8|24,174.7|29,601.1|يناير|
|37,821.9|16,909.4|54,731.3|24,344.4|30,386.9|فبراير|
|43,799.2|17,244.0|61,043.2|24,387.9|36,655.3|مارس|
|45,314.6|17,623.7|62,938.3|24,222.9|38,715.4|أبريل|
|48,283.9|18,107.1|66,391.0|26,383.5|40,007.5|مايو|
|50,539.1|18,521.1|69,060.2|25,927.9|43,132.3|يونيو|
|52,475.8|18,375.4|70,851.2|25,826.9|45,024.3|يوليو|
|53,620.4|19,004.7|72,625.1|25,364.7|47,260.4|أغسطس|
|54,736.9|18,879.3|73,616.2|26,401.8|47,214.4|سبتمبر|
|55,273.3|18,722.6|73,995.9|26,501.4|47,494.5|أكتوبر|
|56,755.1|18,907.8|75,663.0|27,155.6|48,507.3|نوفمبر|
|60,364.0|19,187.7|79,551.7|26,415.7|53,136.0|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2018|
|---|---|---|---|---|---|
|61,398.0|19,855.8|81,253.8|27,065.8|54,188.0|يناير|
|62,343.6|19,580.9|81,924.5|27,068.7|54,855.8|فبراير|
|60,910.1|19,290.3|80,200.4|26,669.7|53,530.7|مارس|
|63,737.5|19,836.2|83,573.6|26,513.0|57,060.7|أبريل|
|65,595.8|20,699.0|86,294.8|26,260.4|60,034.4|مايو|
|66,344.4|20,758.9|87,103.3|26,068.4|61,034.9|يونيو|
|67,139.9|20,824.6|87,964.5|28,930.7|59,033.8|يوليو|
|68,011.3|21,288.2|89,299.5|28,534.9|60,764.6|أغسطس|
|68,689.5|21,281.7|89,971.2|28,533.5|61,437.7|سبتمبر|
|67,208.2|20,368.9|87,577.1|28,029.4|59,547.7|أكتوبر|
|64,514.0|19,910.4|84,424.4|26,863.6|57,560.8|نوفمبر|
|58,483.7|18,731.5|77,215.2|24,716.9|52,385.4|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2019|
|---|---|---|---|---|---|
|61,378.4|19,151.8|80,530.2|22,869.3|57,660.9|يناير|
|60,045.7|18,591.9|78,637.6|23,258.1|55,379.5|فبراير|
|58,306.8|18,305.5|76,612.3|23,058.0|53,554.3|مارس|
|58,283.5|18,603.3|76,886.8|20,512.5|56,374.3|أبريل|
|59,133.5|18,663.3|77,796.8|20,243.9|57,552.9|مايو|
|59,219.9|18,333.7|77,553.6|20,657.4|56,896.2|يونيو|
|51,527.2|18,285.2|69,812.4|19,166.3|50,646.1|يوليو|
|54,127.9|18,746.3|72,874.2|18,411.0|54,463.2|أغسطس|
|53,923.9|18,284.4|72,208.2|17,813.0|54,395.2|سبتمبر|
|53,306.0|18,195.9|71,501.9|18,871.1|52,630.8|أكتوبر|
|52,376.2|17,790.8|70,167.0|17,091.8|53,075.2|نوفمبر|
|51,685.1|17,790.8|69,475.9|15,846.8|53,629.1|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2020|
|---|---|---|---|---|---|
|49,895.9|17,892.4|67,788.3|18,297.2|49,491.1|يناير|
|45,742.6|16,895.8|62,638.4|15,379.8|47,258.7|فبراير|
|48,120.0|17,403.7|65,523.7|12,940.0|52,583.7|مارس|
|52,685.8|17,788.6|70,474.4|11,307.0|59,167.4|أبريل|
|52,497.5|18,464.9|70,962.4|12,791.1|58,171.2|مايو|
|57,716.9|18,775.7|76,492.6|13,737.9|62,754.7|يونيو|
|61,542.0|19,993.8|81,535.8|11,042.8|70,493.0|يوليو|
|62,051.6|19,759.0|81,810.6|14,245.7|67,564.9|أغسطس|
|62,624.6|19,987.2|82,611.8|19,893.6|62,718.2|سبتمبر|
|63,608.1|19,956.3|83,564.4|20,087.6|63,476.8|أكتوبر|
|64,410.9|19,926.3|84,337.2|20,150.4|64,186.8|نوفمبر|
|64,924.4|20,438.8|85,363.2|17,118.2|68,245.0|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|مليون دينار|الاحتياطي النقدي| |ودائع لدى مصرف ليبيا المركزي|الفائض عن الاحتياطي المطلوب|نهاية|المجموع|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|
|---|---|---|---|---|---|---|---|---|
|67,987.7|21,649.9|89,637.6|14,315.4|75,322.2|يناير| | | |
|61,576.4|20,897.5|82,473.9|12,250.1|70,223.8|فبراير| | | |
|62,983.3|20,859.3|83,842.6|10,634.3|73,208.3|مارس| | | |
|62,835.6|20,793.0|83,628.6|12,171.0|71,457.6|أبريل| | | |
|63,235.7|20,197.7|83,433.4|13,971.4|69,462.0|مايو| | | |
|63,745.2|20,134.7|83,879.9|13,761.4|70,118.5|يونيو| | | |
|61,982.9|19,709.8|81,692.7|13,756.4|67,936.3|يوليو| | | |
|65,328.9|20,124.3|85,453.2|13,756.4|71,696.8|أغسطس| | | |
|63,977.3|19,250.0|83,227.3|14,232.4|68,994.9|سبتمبر| | | |
|61,827.3|19,058.0|80,885.3|13,118.0|67,767.3|أكتوبر| | | |
|62,773.7|18,527.1|81,300.8|14,518.7|66,782.1|نوفمبر| | | |
|60,202.5|18,422.7|78,625.2|14,169.6|64,455.6|ديسمبر| | | |
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2022|
|---|---|---|---|---|---|
|66,090.8|20,219.3|86,310.1|14,669.6|71,640.5|يناير|
|63,554.8|19,689.0|83,243.8|14,669.6|68,574.2|فبراير|
|62,139.2|19,502.3|81,641.5|14,169.6|67,471.9|مارس|
|61,179.5|19,430.6|80,610.1|8,654.9|71,955.2|أبريل|
|59,150.6|19,107.5|78,258.1|13,637.3|64,620.8|مايو|
|58,801.1|19,425.2|78,226.3|13,337.3|64,889.0|يونيو|
|56,810.0|18,556.7|75,366.7|9,517.3|65,849.4|يوليو|
|55,862.1|18,484.7|74,346.8|7,117.3|67,229.5|أغسطس|
|60,288.0|19,637.0|79,925.0|7,517.3|72,407.7|سبتمبر|
|55,808.7|19,470.5|75,279.2|6,517.3|68,761.9|أكتوبر|
|60,099.7|19,930.2|80,029.9|3,492.6|76,537.3|نوفمبر|
|63,002.1|20,410.5|83,412.6|3,492.6|79,920.0|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2023|
|---|---|---|---|---|---|
|51,883.3|19,752.6|71,635.9|3,492.6|68,143.3|يناير|
|54,120.2|20,533.1|74,653.3|3,492.6|71,160.7|فبراير|
|54,601.4|21,054.0|75,655.4|3,492.6|72,162.8|مارس|
|54,963.2|21,261.4|76,224.6|3,492.6|72,732.0|أبريل|
|54,303.2|21,465.4|75,768.6|3,493.0|72,275.6|مايو|
|56,512.5|21,826.8|78,339.3|3,492.5|74,846.8|يونيو|
|52,847.9|21,480.4|74,328.2|3,492.5|70,835.7|يوليو|
|56,036.4|22,271.3|78,307.7|3,492.5|74,815.1|أغسطس|
|55,813.1|22,092.5|77,905.6|1,992.5|75,913.0|سبتمبر|
|56,934.1|22,245.7|79,179.8|1,992.5|77,187.2|أكتوبر|
|57,529.4|22,421.3|79,950.7|0.0|79,950.7|نوفمبر|
|68,248.4|25,188.8|93,437.2|3,200.0|90,237.2|ديسمبر|
---
# الاحتياطي النقدي الإلزامي للمصارف التجارية

|الفائض عن الاحتياطي المطلوب|المجموع|ودائع لدى مصرف ليبيا المركزي|شهادات(ودائع زمنية إيداع)|ودائع تحت الطلب|نهاية 2024|
|---|---|---|---|---|---|
|67,237.1|24,239.1|91,476.1|1,400.0|90,076.1|يناير|
|75,801.5|26,759.8|102,561.3|2,775.0|99,786.3|فبراير|
|74,776.5|27,615.4|102,391.9|2,400.0|99,991.9|مارس|
|77,247.4|29,270.6|106,518.0|2,025.0|104,493.0|أبريل|
|74,423.4|27,535.4|101,958.9|0.0|101,958.9|مايو|
|77,724.0|27,741.3|105,465.3|0.0|105,465.3|يونيو|
|80,199.8|28,222.9|108,422.7|0.0|108,422.7|يوليو|
|79,931.0|27,377.8|107,308.7|0.0|107,308.7|أغسطس|
|80,801.4|27,707.7|108,509.0|0.0|108,509.0|سبتمبر|
| | | | | |أكتوبر|
| | | | | |نوفمبر|
| | | | | |ديسمبر|'''},
{"role": "assistant", "content": '''### ملخص الاحتياطي الإلزامي المطلوب من المصارف التجارية (2004 - 2022)

#### **تعريف الاحتياطي الإلزامي:**
هو المبلغ الذي يلتزم كل مصرف بإيداعه لدى المصرف المركزي، ويعتبر أداة رئيسية للتحكم في السيولة النقدية وتنظيم القطاع المصرفي.

---

#### **تطور الاحتياطي الإلزامي:**

1. **2004 - 2006:**
   - شهدت الفترة زيادة مطردة في الاحتياطي الإلزامي، حيث ارتفع من حوالي 3.0 مليار دينار في بداية 2004 إلى أكثر من 11 مليار دينار بحلول نهاية 2006.
   - الزيادة تعكس نمواً في ودائع المصارف، خاصة في الودائع الزمنية وودائع تحت الطلب.

2. **2007 - 2012:**
   - استمر الاحتياطي في الارتفاع مع زيادة كبيرة خلال هذه الفترة.
   - عام 2008 شهد قفزة في إجمالي الاحتياطي الإلزامي لتتجاوز 30 مليار دينار، مدفوعة بزيادة الودائع المصرفية.
   - بنهاية 2012، وصل المجموع إلى حوالي 52.9 مليار دينار.

3. **2013 - 2018:**
   - ارتفاع مستمر مع تذبذبات في الفائض عن الاحتياطي، حيث وصل إلى ذروته في 2018 عند 81.2 مليار دينار.
   - أبرز ملاحظة هي زيادة الودائع تحت الطلب، ما يعكس تزايد النشاط الاقتصادي والسيولة.

4. **2019 - 2022:**
   - تراجع طفيف في بعض السنوات مثل 2019، ثم عودة للارتفاع في 2020 و2021.
   - في 2022، بلغ الاحتياطي الإلزامي حوالي 83.4 مليار دينار في ديسمبر، مع فائض وصل إلى 63 مليار دينار، ما يدل على وجود فائض سيولة كبير في القطاع المصرفي.

---

#### **اتجاهات عامة:**
- **نمو مستمر:** الزيادة في الاحتياطي تعكس نمواً مستداماً في الودائع المصرفية.
- **تغير في التوزيع:** الودائع تحت الطلب شهدت نمواً كبيراً مقارنة بالودائع الزمنية.
- **السياسة النقدية:** استمرار المصرف المركزي في استخدام الاحتياطي كأداة للتحكم في السيولة ودعم استقرار القطاع المصرفي.

**الخلاصة:** يعكس التقرير تطور الاحتياطي الإلزامي للمصارف الليبية ودوره في إدارة السيولة الاقتصادية، مع زيادات ملحوظة في الفوائض النقدية عبر السنوات.'''},
            {"role": "user", "content": ' قم بتخليص الملف التالي باللغة العربية'}
            ],
            "temperature": 0,
            "max_tokens": 512,
            "stream": False }
        headers = {"Content-Type": "application/json"}
        response = requests.post(url, json=payload, headers=headers)
        if response.status_code == 200:
            return response.json()["choices"][0]["message"]["content"]
        else:
            raise Exception(f"Error {response.status_code}: {response.text}")
    except Exception as e:
        return f"حدث خطأ: {e}"

# Streamlit UI
st.markdown(
    """
    <style>
    body, h1, h2, h3, h4, h5, h6, p, div, textarea, select, button {
        font-family: 'Cairo', sans-serif;
        direction: rtl;
        text-align: right;
    }
    .stSidebar {
        background-color: #f8f9fa;
        border-right: 1px solid #dee2e6;
    }
    .stButton button {
        background-color: #007BFF;
        color: white;
        border: none;
        border-radius: 4px;
        padding: 10px 15px;
        font-size: 14px;
        cursor: pointer;
    }
    .stButton button:hover {
        background-color: #0056b3;
    }
    .stSelectbox, .stTextArea textarea {
        border-radius: 5px;
    }
    .card {
        background-color: #ffffff;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 10px;
        margin-bottom: 20px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .sidebar-logo {
        text-align: center;
        margin-bottom: 20px;
    }
    </style>
    """,
    unsafe_allow_html=True,
)

with st.sidebar:
    st.title("لوحة التحكم")
    st.markdown("---")

    # Load and filter data
    data = load_data()
    available_years = sorted(set(data["year"]))
    selected_year = st.selectbox("اختر السنة", options=available_years)

    filtered_data = data[data["year"] == selected_year]
    available_types = sorted(set(filtered_data["report_type"]))
    selected_type = st.selectbox("اختر نوع التقرير", options=available_types)

    final_filtered_data = filtered_data[filtered_data["report_type"] == selected_type]
    selected_file = st.selectbox(
        "اختر الملف",
        final_filtered_data["name"].tolist()
    )

    # Buttons for extraction and summarization
    col1, col2 = st.columns(2)
    with col1:
        display_button_clicked = st.button("عرض النص")
    with col2:
        summarize_button_clicked = st.button("تلخيص النص")

st.title("ملخص التقارير")

# File content display
if selected_file:
    file_id = final_filtered_data[final_filtered_data["name"] == selected_file]["id"].values[0]
    file_name, file_content = load_file(file_id)

    if file_content:
        if file_name.lower().endswith((".txt", ".md", ".csv")):
            text_content = file_content.decode("utf-8")

            # Display full text
            if display_button_clicked:
                st.session_state.extracted_text = text_content
                st.subheader("النص الكامل")
                st.markdown(f"<div class='card'><p>{text_content}</p></div>", unsafe_allow_html=True)

            # Summarize extracted text
            if summarize_button_clicked:
                if 'extracted_text' in st.session_state:
                    summary = summarize_text(st.session_state.extracted_text)
                    st.subheader("الملخص")
                    st.markdown(f"<div class='card'><p>{summary}</p></div>", unsafe_allow_html=True)
                else:
                    st.warning("يرجى عرض النص أولاً قبل التلخيص.")
        else:
            st.warning("صيغة الملف غير مدعومة لعرض النصوص أو التلخيص.")
    else:
        st.error("الملف غير موجود في قاعدة البيانات.")
